#!/usr/bin/env Rscript

library(dplyr)
library(tidygeocoder)
library(openRealestate)

# Project directories.
here <- getwd()
root <- dirname(dirname(here))

# Load renv.
renv::load(root)

# Load the test data.
datadir <- file.path(root,"data")
myfile <- file.path(datadir,"durham_test.rda")
load(myfile) # durham_test

# Create column with addresses.
df <- durham_test
df$ADDR <- paste(trimws(df$SITE_ADDR),"Durham NC")

# Encode addresses as lat/lon.
# Time to execute...
df2 <- df %>% geocode(ADDR)

library(microbenchmark)

microbenchmark(myfunction(with,arguments))
